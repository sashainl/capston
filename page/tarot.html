<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>타로 카드 - 마음의 안식처</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 네비게이션 -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="bi bi-heart-fill text-primary"></i>
                <span class="ms-2 fw-bold">마음의 안식처</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">홈</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="chat.html">감정 대화</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="diary.html">감정 일기</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="tarot.html">타로 카드</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- 타로 섹션 -->
    <section id="tarot" class="py-5 bg-gradient-light" style="padding-top: 100px !important;">
        <div class="container">
            <!-- 헤더 섹션 -->
            <div class="text-center mb-5">
                <div class="diary-header-icon mb-3" style="background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);">
                    <i class="bi bi-stars"></i>
                </div>
                <h2 class="display-4 fw-bold mb-3" style="background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">3장 타로 리딩</h2>
                <p class="lead text-muted mb-0">카드 3장을 선택하고 당신의 이야기를 들어보세요</p>
                <div class="diary-divider mt-4" style="background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);"></div>
            </div>

            <!-- 타로 카드 선택 -->
            <div class="row justify-content-center" id="cardSelectionSection">
                <div class="col-12 col-xl-10">
                    <div class="diary-form-card">
                        <div class="card-header-custom" style="background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);">
                            <div class="d-flex align-items-center justify-content-center flex-wrap">
                                <div class="form-icon-wrapper me-3">
                                    <i class="bi bi-magic"></i>
                                </div>
                                <div class="text-center">
                                    <h4 class="mb-0 fw-bold">카드 3장을 선택하세요</h4>
                                    <small class="text-muted opacity-75">마음을 가다듬고 직관을 믿으세요</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="p-4 p-md-5">
                            <!-- 주제 선택 -->
                            <div class="mb-4 text-center">
                                <label class="form-label-custom mb-3">
                                    <i class="bi bi-star-fill me-2"></i>
                                    어떤 주제가 궁금하신가요?
                                </label>
                                <div class="d-flex gap-2 justify-content-center flex-wrap">
                                    <button class="btn btn-outline-danger topic-btn active" onclick="changeTopic('love', this)">
                                        💝 연애운
                                    </button>
                                    <button class="btn btn-outline-success topic-btn" onclick="changeTopic('money', this)">
                                        💰 재물운
                                    </button>
                                    <button class="btn btn-outline-primary topic-btn" onclick="changeTopic('study', this)">
                                        📚 학업운
                                    </button>
                                    <button class="btn btn-outline-warning topic-btn" onclick="changeTopic('career', this)">
                                        💼 직업운
                                    </button>
                                    <button class="btn btn-outline-info topic-btn" onclick="changeTopic('health', this)">
                                        🏥 건강운
                                    </button>
                                    <button class="btn btn-outline-secondary topic-btn" onclick="changeTopic('general', this)">
                                        🌟 종합운
                                    </button>
                                </div>
                            </div>

                            <!-- 스프레드 모드 선택 -->
                            <div class="mb-4 text-center">
                                <label class="form-label-custom mb-3">
                                    <i class="bi bi-compass me-2"></i>
                                    어떤 방식으로 알아보시겠어요?
                                </label>
                                <div class="d-flex gap-2 justify-content-center flex-wrap">
                                    <button class="btn btn-outline-primary spread-mode-btn active" onclick="changeSpreadMode('past-present-future')">
                                        ⏳ 과거 / 현재 / 미래
                                    </button>
                                    <button class="btn btn-outline-secondary spread-mode-btn" onclick="changeSpreadMode('situation-advice-outcome')">
                                        🎯 상황 / 조언 / 결과
                                    </button>
                                </div>
                            </div>

                            <!-- 질문 입력 -->
                            <div class="mb-4">
                                <label class="form-label-custom mb-3">
                                    <i class="bi bi-question-circle me-2"></i>
                                    궁금한 것이 있나요?
                                </label>
                                <input 
                                    type="text" 
                                    class="form-control form-control-custom text-center" 
                                    id="tarotQuestion"
                                    placeholder="예: 나의 연애운은 어떨까요?"
                                    style="font-size: 1.1rem; padding: 1.25rem;"
                                >
                                <small class="text-muted d-block mt-2" id="topicHint">
                                    <i class="bi bi-lightbulb me-1"></i>
                                    <span id="topicHintText">현재의 연애 상황이나 앞으로의 만남에 대해 물어보세요</span>
                                </small>
                            </div>

                            <!-- 카드 섞기 버튼 -->
                            <div class="text-center mb-4">
                                <button class="btn btn-outline-primary" onclick="shuffleCards()">
                                    <i class="bi bi-shuffle me-2"></i>
                                    카드 다시 섞기
                                </button>
                            </div>

                            <!-- 카드 덱 -->
                            <div class="tarot-deck-container">
                                <div class="tarot-deck" id="tarotDeck">
                                    <!-- 22장의 카드가 여기 생성됩니다 -->
                                </div>
                            </div>

                            <div class="mt-4 text-center">
                                <p class="text-muted">
                                    <i class="bi bi-info-circle me-2"></i>
                                    마음이 이끄는 대로 카드 3장을 선택해주세요
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 타로 결과 -->
            <div class="row justify-content-center d-none" id="cardResultSection">
                <div class="col-12 col-xl-10">
                    <div class="diary-form-card">
                        <div class="card-header-custom" style="background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);">
                            <div class="text-center">
                                <h4 class="mb-0 fw-bold">당신의 타로 리딩 결과</h4>
                                <small class="text-muted opacity-75" id="resultQuestion"></small>
                                <div class="mt-2">
                                    <span class="badge bg-light text-dark" id="spreadMode"></span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="p-4 p-md-5">
                            <!-- 선택된 3장의 카드 -->
                            <div class="row" id="selectedCardsContainer">
                                <!-- 카드들이 여기 표시됩니다 -->
                            </div>

                            <!-- 종합 해석 -->
                            <div class="card-interpretation mt-5">
                                <h5 class="fw-bold mb-3 text-center">
                                    <i class="bi bi-stars me-2" style="color: #ec4899;"></i>
                                    종합 해석
                                </h5>
                                <div class="interpretation-section">
                                    <p class="lead text-center">
                                        선택하신 세 장의 카드는 서로 연결되어 하나의 이야기를 만듭니다. 
                                        각 카드의 메시지를 마음 깊이 받아들이고, 당신의 직관과 연결해보세요. 
                                        카드는 길을 제시하지만, 선택은 언제나 당신의 몫입니다.
                                    </p>
                                </div>
                            </div>

                            <!-- 다시 뽑기 버튼 -->
                            <div class="mt-5 text-center">
                                <button class="btn btn-save-diary" onclick="resetTarot()" style="background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);">
                                    <i class="bi bi-arrow-clockwise me-2"></i>
                                    <span>다시 뽑기</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 타로 히스토리 -->
            <div class="row justify-content-center mt-5">
                <div class="col-12 col-xl-10">
                    <div class="sidebar-card">
                        <div class="sidebar-header">
                            <div class="sidebar-icon" style="background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);">
                                <i class="bi bi-clock-history"></i>
                            </div>
                            <div>
                                <h5 class="sidebar-title">최근 뽑은 카드</h5>
                                <small class="sidebar-subtitle">지난 타로 기록</small>
                            </div>
                        </div>
                        <div class="sidebar-content" id="tarotHistory">
                            <div class="empty-state">
                                <div class="empty-icon">
                                    <i class="bi bi-inbox"></i>
                                </div>
                                <p class="empty-text">아직 뽑은 카드가 없습니다</p>
                                <small class="empty-subtext">첫 번째 카드를 선택해보세요</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 푸터 -->
    <footer class="bg-dark text-white py-3 py-md-4 mt-5">
        <div class="container text-center px-3">
            <p class="mb-2 fs-6 fs-md-5">
                <i class="bi bi-heart-fill text-danger me-2"></i>
                당신의 감정은 소중합니다
            </p>
            <small class="text-muted d-block">
                힘들 때는 주변 사람이나 전문가의 도움을 받으세요
            </small>
            <small class="text-muted d-none d-sm-block">
                자살예방 상담전화: 1393 | 정신건강 위기상담: 1577-0199
            </small>
            <small class="text-muted d-block d-sm-none">
                자살예방: 1393<br>정신건강: 1577-0199
            </small>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="tarot.js"></script>
</body>
</html>
